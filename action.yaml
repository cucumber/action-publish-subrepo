name: 'Publish subrepo'
description: 'Publish a mirror repo from a given subdirectory in this repo'
inputs:
  working-directory:
    description: "Path within the repo to the folder where root of the mirror repo should be"
    required: true
    default: "."
runs:
  using: "composite"
  steps:
    - name: create new git repo in subfolder and push
      if: github.ref_name == 'main'
      run: |
        echo "git@github.com:$github.repository-$inputs.working-directory.git"
        # git init -b main
        # git push ${{ github.repositoryUrl }}-${{ inputs.working-directory }} main:main
      shell: bash
      working-directory: ${{ inputs.working-directory }}
